{% extends "base.html.twig" %}

{% block body %}
    <div class="user">
        <h1 class="h1">User Data</h1>
        <table class="user__table">
            <tr>
                <th class="user__table-head body-3">Id</th>
                <th class="user__table-head body-3">Email</th>
                <th class="user__table-head body-3">Roles</th>
            </tr>
            {% if (user) %}
                <tr>
                    <td class="user__table-item body-3">{{ user.id }}</td>
                    <td class="user__table-item body-3">{{ user.email }}</td>
                    <td class="user__table-item body-3">
                        {% for role in user.getRoles %}
                            {{ role }}<br>
                        {% endfor %}
                    </td>
                </tr>
            {% endif %}
        </table>
        <div class="user__container">
            {{ form_start(getForm) }}
                <div class="user__grid">
                    <div class="user__grid-title">
                        <h4 class="h4">Modifica i dati di {{ user.email }}</h4>
                    </div>
                    <div class="user__grid-email">
                        {{ form_widget(getForm.email) }}
                    </div>
                    <div class="user__grid-roles">
                        {{ form_widget(getForm.role) }}
                    </div>
                    <div class="user__grid-password">
                        {{ form_widget(getForm.password) }}
                    </div>
                    <div class="user__grid-submit">
                        {{ form_widget(getForm.register, {'attr': {'class': 'button button--white'}}) }}
                    </div>
                </div>
            {{ form_end(getForm) }}
        </div>
    </div>
{% endblock %}